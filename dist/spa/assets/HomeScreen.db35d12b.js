import{d as h,_,o as r,c as o,a as t,t as d,p as y,b as C,w as b,v as w,r as P,u as N,e as E,f as v,g as p,h as $,i as f,j as l,F as L,k as q,l as R}from"./index.5385cbbb.js";import{g as T,L as A}from"./LoadingScreen.aa613cfb.js";var B="/rick-and-morty/dist/spa/assets/portal.bd79e02e.png";const D=h({name:"CharacterComponent",props:{character:{type:Object,required:!0}}}),H=e=>(y("data-v-0e6f99a4"),e=e(),C(),e),j={class:"container-character"},x={class:"character-info"},F={class:"character-name"},M=["src"],Q=H(()=>t("img",{class:"portal",src:B,alt:"Descri\xE7\xE3o da imagem"},null,-1));function U(e,a,s,n,i,m){return r(),o("div",j,[t("div",x,[t("p",F,d(e.character.name),1),t("img",{class:"character",src:e.character.image,alt:"Descri\xE7\xE3o da imagem"},null,8,M)]),Q])}var O=_(D,[["render",U],["__scopeId","data-v-0e6f99a4"]]);const Y=h({name:"SearchInput",data(){return{localValue:""}},props:{value:String,placeholder:String},setup(e,{emit:a}){return{updateValue:n=>{const i=n.target.value;a("update:value",i)}}}}),z=["placeholder"];function G(e,a,s,n,i,m){return b((r(),o("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=c=>e.localValue=c),onInput:a[1]||(a[1]=(...c)=>e.updateValue&&e.updateValue(...c)),placeholder:e.placeholder},null,40,z)),[[w,e.localValue]])}var J=_(Y,[["render",G]]),K="/rick-and-morty/dist/spa/assets/rick-and-morty-logo.2ea6d7ba.png";const W=T`
  query getAllCharacters($name: String!, $page: Int!) {
    characters(page: $page, filter: { name: $name }) {
      info {
        count
        pages
        next
        prev
      }
      results {
        id
        name
        image
      }
    }
  }
`,X=h({name:"HomeScreen",components:{SearchInput:J,Character:O,LoadingScreen:A},data(){return{searchName:"",currentPage:1,loading:!0,characters:[]}},watch:{currentPage(e){this.getCharacters(e)},searchName(){let e;e&&clearTimeout(e),e=setTimeout(()=>{try{this.getCharacters()}catch(a){console.error(a)}},2e3)}},mounted(){this.getCharacters()},methods:{updateValue(e){this.$data.searchName=e.target.value},async getCharacters(e=1){this.loading=!0;const a=P({name:this.$data.searchName,page:e}),{result:s,loading:n}=await N(W,a);E(()=>{s.value&&(this.characters=s.value.characters,this.loading=n.value)})},nextPage(){this.$data.currentPage+=1},previousPage(){this.$data.currentPage-=1}},setup(){const e=R();return{handleClick:s=>{e.push(`/character-details/${s}`)}}}}),Z=e=>(y("data-v-0b03fa45"),e=e(),C(),e),ee={class:"",style:{background:"#000"}},ae={class:"search-characters-container"},te=Z(()=>t("img",{class:"image-logo",src:K,alt:"Rick and Morty Logo"},null,-1)),re={class:"search-container"},se={class:"list-characters-section"},ne={class:"pagination-container"};function oe(e,a,s,n,i,m){var g;const c=l("SearchInput"),k=l("LoadingScreen"),S=l("Character"),I=l("q-col"),V=l("q-row");return r(),o("div",ee,[t("section",ae,[te,t("div",re,[v(c,{value:e.searchName,onInput:e.updateValue,placeholder:"Search Character Name"},null,8,["value","onInput"])])]),t("section",se,[e.loading?(r(),p(k,{key:0})):(r(),p(V,{key:1,class:"row"},{default:$(()=>[(r(!0),o(L,null,q(e.characters.results,u=>(r(),p(I,{class:"col-6 col-xs-12 col-sm-6 col-md-3 col-lg-2",style:{"justify-content":"center",display:"flex"},key:u.id},{default:$(()=>[v(S,{character:u,onClick:()=>e.handleClick(u.id)},null,8,["character","onClick"])]),_:2},1024))),128))]),_:1}))]),t("div",ne,[e.currentPage>1?(r(),o("button",{key:0,class:"pagination-btn",onClick:a[0]||(a[0]=u=>e.previousPage())},d("< Previous"))):f("",!0),t("span",null,d(e.currentPage)+" of "+d((g=e.characters.info)==null?void 0:g.pages),1),e.currentPage<4?(r(),o("button",{key:1,class:"pagination-btn",onClick:a[1]||(a[1]=()=>e.nextPage())}," Next > ")):f("",!0)])])}var ie=_(X,[["render",oe],["__scopeId","data-v-0b03fa45"]]);export{ie as default};
